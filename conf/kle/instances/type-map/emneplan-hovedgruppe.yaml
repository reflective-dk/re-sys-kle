---
id: 961718c0-59a9-424d-8edb-32d40a4cbf3d
mimeType: application/vnd.reflective-dk.object+json
registrations:
  - validity:
      - input:
          # Responsible actor - actor: { id: actor.id }
          class: { id: efefe41d-805b-478f-8e4d-841085cb7dfa, name: Type Map }
          name: Object -> KLE Emneplan Hovedgruppe
          sourceType: { id: c4315fa9-3765-40c0-ba45-ef821c416f83, name: Object }
          targetType: { id: 94e29bbc-09eb-4b8c-98e0-944bf63a85a9, name: Hovedgruppe }
          idSeed: 'UUID[0]'
          condition:
            type: mustExist
            attribute: HovedgruppeNr
          mappings:
            name:
              sourceAttribute:
                - HovedgruppeNr.0
                - HovedgruppeTitel.0
              targetAttribute: name
              transform:
                type: join
                separator: ' '
            elementnr:
              sourceAttribute: HovedgruppeNr.0
              targetAttribute: elementnr
            titel:
              sourceAttribute: HovedgruppeTitel.0
              targetAttribute: titel
            vejledning:
              sourceAttribute: HovedgruppeVejledning.0.VejledningTekst
              targetAttribute: vejledning
              transform: stringify
            activeFrom:
              sourceAttribute: HovedgruppeAdministrativInfo.0.OprettetDato
              targetAttribute: activeFrom
              transform: normalizeDanishDate
            oprettetDato:
              sourceAttribute: HovedgruppeAdministrativInfo.0.OprettetDato
              targetAttribute: oprettetDato
              transform: normalizeDanishDate
            rettetDato:
              sourceAttribute: HovedgruppeAdministrativInfo.0.RettetDato
              targetAttribute: rettetDato
              transform: normalizeDanishDate
            # TODO: UdgaaetDato
            stikordOrden:
              sourceAttribute: HovedgruppeStikord
              targetAttribute: 'stikordOrden.#'
              transform:
                - type: forEach
                - type: descend
                  attribute: Orden.0
            stikordTekst:
              sourceAttribute: HovedgruppeStikord
              targetAttribute: 'stikordTekst.#'
              transform:
                - type: forEach
                - type: descend
                  attribute: Tekst.0
...
